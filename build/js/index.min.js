$((function(){let t=constants.logo,e=$("footer");$(".loader").hide(),$(".logoContainer").append((function(){return $('<img class="logo" id="logo"></img>').attr("src",t)}));const o=$(".selectorContainer");o.append("<p>Choose a section:</p>"),o.append('<select class="selector"></select>');for(let t=0;t<constants.sectionOptions.length;t++){let e;$(".selector").append((function(){return"Sections"===constants.sectionOptions[t]?$(`<option class="option">${constants.sectionOptions[t]}</option>`).attr("value","").attr("disabled","true").attr("selected","selected"):$(`<option class="option">${constants.sectionOptions[t]}</option>`).attr("value",`${constants.sectionOptions[t]}`).attr("id",(function(){return e=constants.sectionOptions[t].replace(/\./g,"")}))}))}$(".selector").on("change",(function(){let t=this.value;$(".loader").show(),$.ajax({method:"GET",url:`https://api.nytimes.com/svc/topstories/v2/${t}.json?api-key=${constants.APIKey}`}).done((function(t){$("a").slideUp(),$(".articlesContainer").html(""),t.results.slice(0,12).forEach((function(t,e){let o,n,i;t.short_url&&(o=t.short_url),n=t.multimedia[2]&&$(window).width()<=599?t.multimedia[2].url:t.multimedia[3]&&$(window).width()<=1249?t.multimedia[3].url:t.multimedia[4]&&$(window).width()>=1250?t.multimedia[4].url:"../assets/images/nytimeslogo.svg",i=t.abstract?t.abstract:"click on this image to read this article and more on the NYC Times website",apiStorage[`article${e}`]={link:o,image:n,description:i},constants.generateContent(o,n,i)})),$("a").slideDown(),$("header").attr("id","headerSelected"),$(".logoContainer").attr("id","logoContainerSelected"),$(".selectorContainer").attr("id","selectorContainerSelected"),$(".selector").attr("id","selectorDesktopSelected"),$("footer").attr("id","footerSelected")})).fail((function(){constants.onFail()})).always((function(){$(".loader").hide()}))})),e.append('<p><i class="icofont-copyright"></i> Copyright 2016 INSTANEWS</p>')}));const constants={logo:"../assets/images/nyt-logo.svg",main:1,sectionOptions:["Sections","arts","automobiles","books","business","fashion","food","health","home","insider","magazine","movies","national","obituaries","opinion","politics","realestate","science","sports","sundayreview","technology","theater","travel","upshot","world"],APIKey:"ufgUeOkNrPXMBGtACisXTApujh2aM5EG",generateContent(t,e,o){$(".articlesContainer").append((function(){return $("<a></a>").hide().attr("href",`${t}`).attr("class","grid-item").attr("style",`background-image: url('${e}')`).append((function(){return $("<div class='shadowBox'></div>").append(`<p class='article'>${o}</p>`)}))}))},onFail(){$(".articlesContainer").append((function(){return $("<p>Could not generate content. Please try again later. If the issue persists, contact the website administrator.</p>").attr("class","failToLoad")}))}};let apiStorage={};